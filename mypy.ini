[mypy]
python_version = 3.12
strict = true
warn_unused_ignores = true
pretty = true
files = app

# Exclude all tests (note indented closing parenthesis)
exclude = (?x)(
    ^tests/
    )

# Temporary relaxations at the HTTP edges
[mypy-app.routes.*]
disallow_untyped_defs = False
[mypy-app.middleware.*]
disallow_untyped_defs = False
[mypy-app.webhooks.*]
disallow_untyped_defs = False
[mypy-deploy.*]
disallow_untyped_defs = False
[mypy-scripts.*]
disallow_untyped_defs = False

# Keep redis stubs strict (types-redis installed via dev extras)
[mypy-redis.*]
ignore_missing_imports = False
