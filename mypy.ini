[mypy]
python_version = 3.12
strict = true
warn_unused_ignores = true
pretty = true

# Only check existing top-level source dirs; subpackages live under "app/"
# Remove any dir below if it doesn't exist in this repo.
files = app, cli, deploy, tools

# Exclude all test code (note the indented closing parenthesis)
exclude = (?x)(
    ^tests/          # skip test files and helpers
    # add more patterns as needed, e.g.:
    # ^.*/_tmp/,
    # ^build/,
    # ^dist/,
)

# Keep edge layers from blocking on untyped defs for now
[mypy-app.routes.*]
disallow_untyped_defs = False

[mypy-app.middleware.*]
disallow_untyped_defs = False

[mypy-app.webhooks.*]
disallow_untyped_defs = False

[mypy-deploy.*]
disallow_untyped_defs = False

[mypy-scripts.*]
disallow_untyped_defs = False

# Keep redis stubs strict (types-redis should be installed via dev deps)
[mypy-redis.*]
ignore_missing_imports = False
